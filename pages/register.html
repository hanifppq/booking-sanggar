<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Daftar - Sanggar Tari Tatra KJD</title>

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Playfair+Display:wght@400;600;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <style>
      :root {
        --primary-color: #8b4513;
        --secondary-color: #d2691e;
        --accent-color: #ffd700;
        --light-gold: #fff8dc;
        --text-dark: #2c3e50;
        --text-light: #7f8c8d;
        --success: #27ae60;
        --warning: #f39c12;
        --danger: #e74c3c;
        --gray-100: #f8f9fa;
        --gray-200: #e9ecef;
      }

      body {
        font-family: "Poppins", sans-serif;
        background: linear-gradient(135deg, var(--light-gold), #ffffff);
        min-height: 100vh;
        padding: 2rem 0;
      }

      .auth-container {
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .auth-card {
        background: white;
        border-radius: 20px;
        box-shadow: 0 20px 60px rgba(139, 69, 19, 0.1);
        overflow: hidden;
        width: 100%;
        max-width: 500px;
      }

      .auth-header {
        background: linear-gradient(
          135deg,
          var(--primary-color),
          var(--secondary-color)
        );
        color: white;
        padding: 2rem;
        text-align: center;
      }

      .auth-header h2 {
        margin: 0;
        font-family: "Playfair Display", serif;
        font-weight: 600;
      }

      .auth-header p {
        margin: 0.5rem 0 0 0;
        opacity: 0.9;
      }

      .auth-body {
        padding: 2rem;
      }

      .form-control {
        border: 2px solid #e9ecef;
        border-radius: 10px;
        padding: 12px 15px;
        font-size: 1rem;
        transition: all 0.3s ease;
      }

      .form-control:focus {
        border-color: var(--primary-color);
        box-shadow: 0 0 0 0.2rem rgba(139, 69, 19, 0.25);
      }

      .btn-primary {
        background: linear-gradient(
          135deg,
          var(--primary-color),
          var(--secondary-color)
        );
        border: none;
        border-radius: 10px;
        padding: 12px;
        font-weight: 600;
        transition: all 0.3s ease;
      }

      .btn-primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(139, 69, 19, 0.3);
        background: linear-gradient(
          135deg,
          var(--secondary-color),
          var(--primary-color)
        );
      }

      .auth-links {
        text-align: center;
        margin-top: 1.5rem;
      }

      .auth-links a {
        color: var(--primary-color);
        text-decoration: none;
        font-weight: 500;
      }

      .auth-links a:hover {
        color: var(--secondary-color);
        text-decoration: underline;
      }

      .divider {
        text-align: center;
        margin: 1.5rem 0;
        position: relative;
      }

      .divider::before {
        content: "";
        position: absolute;
        top: 50%;
        left: 0;
        right: 0;
        height: 1px;
        background: #e9ecef;
      }

      .divider span {
        background: white;
        padding: 0 1rem;
        color: var(--text-light);
        font-size: 0.9rem;
      }

      .brand-link {
        position: absolute;
        top: 1rem;
        left: 1rem;
        color: var(--primary-color);
        text-decoration: none;
        font-weight: 600;
        font-size: 1.1rem;
        z-index: 1000;
      }

      .brand-link:hover {
        color: var(--secondary-color);
      }

      .password-strength {
        margin-top: 0.5rem;
      }

      .strength-bar {
        height: 4px;
        border-radius: 2px;
        background: #e9ecef;
        overflow: hidden;
      }

      .strength-fill {
        height: 100%;
        transition: all 0.3s ease;
        width: 0%;
      }

      .strength-weak {
        background: var(--danger);
      }
      .strength-medium {
        background: var(--warning);
      }
      .strength-strong {
        background: var(--success);
      }

      .strength-text {
        font-size: 0.8rem;
        margin-top: 0.25rem;
      }

      .form-check-input:checked {
        background-color: var(--primary-color);
        border-color: var(--primary-color);
      }

      .input-group .btn-outline-secondary {
        border-color: #e9ecef;
        color: var(--text-light);
      }

      .input-group .btn-outline-secondary:hover {
        background-color: var(--primary-color);
        border-color: var(--primary-color);
        color: white;
      }
    </style>

    <!-- Brand Link -->
    <a href="../index.html" class="brand-link">
      <i class="fas fa-music me-2"></i>Sanggar Tari Tatra KJD
    </a>

    <!-- Register Container -->
    <div class="auth-container">
      <div class="container">
        <div class="row justify-content-center">
          <div class="col-lg-5 col-md-7 col-sm-9">
            <div class="auth-card">
              <!-- Header -->
              <div class="auth-header">
                <i class="fas fa-user-plus fa-3x mb-3"></i>
                <h2>Daftar</h2>
                <p>Bergabunglah dengan komunitas tari terbaik!</p>
              </div>

              <!-- Body -->
              <div class="auth-body">
                <form id="registerForm" novalidate>
                  <div class="mb-3">
                    <label for="fullName" class="form-label">
                      <i class="fas fa-user me-2"></i>Nama Lengkap
                    </label>
                    <input
                      type="text"
                      class="form-control"
                      id="fullName"
                      name="fullName"
                      placeholder="Masukkan nama lengkap Anda"
                      required
                    />
                    <div class="invalid-feedback">
                      Nama lengkap wajib diisi.
                    </div>
                  </div>

                  <div class="mb-3">
                    <label for="email" class="form-label">
                      <i class="fas fa-envelope me-2"></i>Email
                    </label>
                    <input
                      type="email"
                      class="form-control"
                      id="email"
                      name="email"
                      placeholder="Masukkan email Anda"
                      required
                    />
                    <div class="invalid-feedback">
                      Silakan masukkan email yang valid.
                    </div>
                  </div>

                  <div class="mb-3">
                    <label for="password" class="form-label">
                      <i class="fas fa-lock me-2"></i>Password
                    </label>
                    <div class="input-group">
                      <input
                        type="password"
                        class="form-control"
                        id="password"
                        name="password"
                        placeholder="Masukkan password Anda"
                        required
                        minlength="6"
                      />
                      <button
                        class="btn btn-outline-secondary"
                        type="button"
                        id="togglePassword"
                      >
                        <i class="fas fa-eye"></i>
                      </button>
                    </div>
                    <div class="password-strength">
                      <div class="strength-bar">
                        <div class="strength-fill" id="strengthFill"></div>
                      </div>
                      <div class="strength-text" id="strengthText"></div>
                    </div>
                    <div class="invalid-feedback">
                      Password minimal 6 karakter.
                    </div>
                  </div>

                  <div class="mb-3">
                    <label for="confirmPassword" class="form-label">
                      <i class="fas fa-lock me-2"></i>Konfirmasi Password
                    </label>
                    <div class="input-group">
                      <input
                        type="password"
                        class="form-control"
                        id="confirmPassword"
                        name="confirmPassword"
                        placeholder="Ulangi password Anda"
                        required
                      />
                      <button
                        class="btn btn-outline-secondary"
                        type="button"
                        id="toggleConfirmPassword"
                      >
                        <i class="fas fa-eye"></i>
                      </button>
                    </div>
                    <div class="invalid-feedback" id="confirmPasswordFeedback">
                      Konfirmasi password wajib diisi.
                    </div>
                  </div>

                  <div class="mb-3 form-check">
                    <input
                      type="checkbox"
                      class="form-check-input"
                      id="agreeTerms"
                      required
                    />
                    <label class="form-check-label" for="agreeTerms">
                      Saya setuju dengan
                      <a href="#" class="text-decoration-none"
                        >syarat dan ketentuan</a
                      >
                    </label>
                    <div class="invalid-feedback">
                      Anda harus menyetujui syarat dan ketentuan.
                    </div>
                  </div>

                  <div class="d-grid mb-3">
                    <button type="submit" class="btn btn-primary btn-lg">
                      <i class="fas fa-user-plus me-2"></i>Daftar
                    </button>
                  </div>
                </form>

                <div class="divider">
                  <span>atau</span>
                </div>

                <div class="auth-links">
                  <p class="mb-2">Sudah punya akun?</p>
                  <a href="login.html" class="fw-bold">Masuk di sini</a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script>
      // Password strength checker
      function checkPasswordStrength(password) {
        let strength = 0;
        let feedback = "";

        if (password.length >= 6) strength += 1;
        if (password.length >= 8) strength += 1;
        if (/[a-z]/.test(password)) strength += 1;
        if (/[A-Z]/.test(password)) strength += 1;
        if (/[0-9]/.test(password)) strength += 1;
        if (/[^A-Za-z0-9]/.test(password)) strength += 1;

        const strengthFill = document.getElementById("strengthFill");
        const strengthText = document.getElementById("strengthText");

        if (strength < 3) {
          strengthFill.className = "strength-fill strength-weak";
          strengthFill.style.width = "33%";
          feedback = "Lemah";
        } else if (strength < 5) {
          strengthFill.className = "strength-fill strength-medium";
          strengthFill.style.width = "66%";
          feedback = "Sedang";
        } else {
          strengthFill.className = "strength-fill strength-strong";
          strengthFill.style.width = "100%";
          feedback = "Kuat";
        }

        strengthText.textContent = feedback;
        strengthText.className = `strength-text text-${
          strength < 3 ? "danger" : strength < 5 ? "warning" : "success"
        }`;
      }

      // Register form handling
      document
        .getElementById("registerForm")
        .addEventListener("submit", function (e) {
          e.preventDefault();

          const password = document.getElementById("password").value;
          const confirmPassword =
            document.getElementById("confirmPassword").value;
          const confirmPasswordFeedback = document.getElementById(
            "confirmPasswordFeedback"
          );

          // Check password match
          if (password !== confirmPassword) {
            document
              .getElementById("confirmPassword")
              .classList.add("is-invalid");
            confirmPasswordFeedback.textContent = "Password tidak cocok.";
            return;
          } else {
            document
              .getElementById("confirmPassword")
              .classList.remove("is-invalid");
            confirmPasswordFeedback.textContent =
              "Konfirmasi password wajib diisi.";
          }

          if (this.checkValidity()) {
            const formData = {
              fullName: document.getElementById("fullName").value,
              email: document.getElementById("email").value,
              password: password,
            };

            // Show loading
            const submitBtn = this.querySelector('button[type="submit"]');
            const originalText = submitBtn.innerHTML;
            submitBtn.innerHTML =
              '<i class="fas fa-spinner fa-spin me-2"></i>Memproses...';
            submitBtn.disabled = true;

            // Simulate API call
            setTimeout(() => {
              submitBtn.innerHTML = originalText;
              submitBtn.disabled = false;

              // Simulate successful registration
              showNotification(
                "Pendaftaran berhasil! Mengarahkan ke halaman login...",
                "success"
              );

              // Save user data to localStorage (for demo purposes)
              const users = JSON.parse(localStorage.getItem("users") || "[]");
              users.push(formData);
              localStorage.setItem("users", JSON.stringify(users));

              setTimeout(() => {
                window.location.href = "login.html";
              }, 2000);
            }, 2000);
          }

          this.classList.add("was-validated");
        });

      // Password strength check
      document
        .getElementById("password")
        .addEventListener("input", function () {
          checkPasswordStrength(this.value);
        });

      // Confirm password validation
      document
        .getElementById("confirmPassword")
        .addEventListener("input", function () {
          const password = document.getElementById("password").value;
          const confirmPassword = this.value;
          const feedback = document.getElementById("confirmPasswordFeedback");

          if (confirmPassword && password !== confirmPassword) {
            this.classList.add("is-invalid");
            feedback.textContent = "Password tidak cocok.";
          } else {
            this.classList.remove("is-invalid");
            feedback.textContent = "Konfirmasi password wajib diisi.";
          }
        });

      // Toggle password visibility
      document
        .getElementById("togglePassword")
        .addEventListener("click", function () {
          const passwordInput = document.getElementById("password");
          const icon = this.querySelector("i");

          if (passwordInput.type === "password") {
            passwordInput.type = "text";
            icon.classList.remove("fa-eye");
            icon.classList.add("fa-eye-slash");
          } else {
            passwordInput.type = "password";
            icon.classList.remove("fa-eye-slash");
            icon.classList.add("fa-eye");
          }
        });

      document
        .getElementById("toggleConfirmPassword")
        .addEventListener("click", function () {
          const confirmPasswordInput =
            document.getElementById("confirmPassword");
          const icon = this.querySelector("i");

          if (confirmPasswordInput.type === "password") {
            confirmPasswordInput.type = "text";
            icon.classList.remove("fa-eye");
            icon.classList.add("fa-eye-slash");
          } else {
            confirmPasswordInput.type = "password";
            icon.classList.remove("fa-eye-slash");
            icon.classList.add("fa-eye");
          }
        });

      // Notification function
      function showNotification(message, type) {
        // Create notification element
        const notification = document.createElement("div");
        notification.className = `alert alert-${
          type === "error" ? "danger" : type
        } alert-dismissible fade show position-fixed`;
        notification.style.cssText =
          "top: 20px; right: 20px; z-index: 9999; min-width: 300px;";
        notification.innerHTML = `
                ${message}
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            `;

        document.body.appendChild(notification);

        // Auto remove after 5 seconds
        setTimeout(() => {
          if (notification.parentNode) {
            notification.remove();
          }
        }, 5000);
      }

      // Check if already logged in
      document.addEventListener("DOMContentLoaded", function () {
        const isLoggedIn = localStorage.getItem("isLoggedIn");
        if (isLoggedIn === "true") {
          showNotification("Anda sudah login. Mengarahkan...", "info");
          setTimeout(() => {
            window.location.href = "../index.html";
          }, 1500);
        }
      });
    </script>
  </body>
</html>
